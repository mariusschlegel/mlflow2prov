# MongoDB Integration

## Installation

The MongoDB Docker container can be pulled as follows:

```bash
docker pull mongo:4.2
```

## Usage

The MongoDB Docker container is started as follows:

```bash
./start_mongodb.sh
```

Two directories are mounted in the container:

* The `input` directory contains `json` files generated by MLflow2PROV and importable into MongoDB.
* The `queries` directory contains JavaScript files that contain prebuilt queries and can be used in the MongoDB shell (`mongosh`).

A Bash shell can be started inside the container as follows:

```bash
docker exec -it mongodb bash
```

The `json` input file can be imported with `mongoimport`:

```bash
mongoimport --db testdb --collection testcollection --file /input/mlflow2prov-output.json
```

Subsequently, queries, here exemplarily `q1.js`, can be executed with `mongosh` as follows:

```bash
mongosh < /queries/q1.js
```

The MongoDB Docker container is stopped as follows:

```bash
./stop_mongodb.sh
```
